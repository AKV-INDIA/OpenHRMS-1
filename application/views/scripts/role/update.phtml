<?php

$this->headScript()->appendFile($this->staticUrl('/js/jquery.validate/jquery.validate.min.js'));
?>

<div class="grid_12 t_a_ui_breadcrumb">
	<span><a href="<?php echo $this->url(array('controller'=>'role', 'action'=>'list')); ?>">List of Roles</a></span>
	<span>Edit Role <?php echo $this->role->name; ?></span>
</div>

<div class="grid_12"><?php echo $this->flashMessenger(); ?></div>

<form method="post" action="<?php echo $this->url(array('controller'=>'role', 'action'=>'update')); ?>" id="editRoleForm">
<div class="grid_12 t_a_bottom">Update Role Information as necessary:</div>

<div class="grid_12 t_a_bottom">
	<div class="prefix_1 suffix_1">
            <input type="hidden" name="id" value="<?php echo $this->role->role_id; ?>" />
		<div class="clearfix t_a_bottom">
			<label>Name:</label>
			<input type="text" style="width: 200px" name="name" id="name" value="<?php echo $this->role->name; ?>"/>
		</div>

		<hr />

		<div class="clearfix t_a_bottom">
			<label>Description:</label>
			<input type="text" style="width: 200px" name="description" id="description" value="<?php echo $this->role->description; ?>" />
		</div>

		<hr />

		<div class="clearfix">
			<label>&nbsp;</label>
			<input type="checkbox" name="lock" value="<?php echo $this->role->locked; ?>" <?php if($this->role->locked == 1) {echo ' checked="checked"'; } ?> /> Lock this Role
		</div>

		<hr />

		<div class="clearfix t_a_bottom">
			<label>&nbsp;</label>
                        <button type="submit"><span>Save Changes</span></button> or <a href="<?php echo $this->url(array('controller'=>'role', 'action'=>'list'), null, true)?>">Cancel</a>
		</div>
	</div>
</div>
</form>

<script type="text/javascript">
$(document).ready(function() {
	/**
	 * Validate form
	 */
	$('#editRoleForm').validate({
		rules: {
			name: {
				required: true
			},
			description: {
				required: true
			}
	    },
	    messages: {
	    	name: {
	        	required: "<?php echo addslashes("Role name is required"); ?>"
			},
			description: {
	        	required: "<?php echo addslashes("Role description is required"); ?>"
			}
		}
	});
});
</script>
